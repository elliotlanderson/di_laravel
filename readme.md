# DragInspire Documentation

This documentation outlines the following:

* API Endpoints
* Model Definitions


## API Endpoints

**HTTP Header Required** <br>
In order for the data response to be consistent throughout the requests, you need
to add to *any* request you send to the server the following: <br>
`Content-type: application/json` <br>
Check the VueJs Documentation to see how to add this, as well as other javascript libraries. 
There should be a pool of resources to make it simple to add this.

### Authentication
Authentication is broken down into two main components -- login and registration. This portion deals with how to *create* a user and how to maintain user session (keep them logged in).

#### Routes

* Create/Register a User

	**URI**: `POST /api/user` <br>
	Form-Data Required: 

	| Key          | Type   | Default | Additional Information       |
	| ------------ | ------ | ------- | ---------------------------- |
	| email        | String | null    | Must be an @drexel.edu email |  
	| first_name   | String | null    | User's first name            |
	| last_name    | String | null    | User's last name             |
	| password     | String | null    | User's *unhashed* password   |

	**Backend Logic**
	The backend creates an instance of the User, with a unique id (assuming all the information passes the validation), and designates a `verification_code` property with a string that can be used to verify the user *before* they can access their account.  The `verified` property will remain `False` until the verification URI has been called.
	On top of this, the backend also generates a token so you can keep accessing the server signed in as that user.<br>
	##### Headers
	To get this key, after you have registered a user, visit the uri:
	
	 `/oauth/token` <br>
	 
     |Key               | Value                                    | Comments  |
     | ---------------- | ------------------------------------------ | ----------------------- |
     | username         | user's email                               |                         |
     | password         | user's unhashed password                   |                         |
     | client_id        | 4                                          | Just the number 3       |
     | client_secret    | '0vcaLptRUjPJGcPH8lCNCMWymycHFTUl6Okypuu2' | String literal          |
     | grant_type       | 'password'                                 | String Literal          |
     | scope            | '*'                                        | The string literal *    |

     Using this data, you want to add to your headers:
     <br>
     `Authorization: Bearer +{access_token} `
     The access token will be in the HTTP response from the `/oauth/token` request.	 


	Return-Data:

	| Key          		| Type   | Additional Information            | 
	| ------------ 		| ------ | ------------------------------    |
	| id           		| Int    | Auto-generated by the database    | 
	| first_name   		| String | User's first name 			     |
	| last_name    		| String | User's last name 			     |
	| email 	   		| String | User's email address 		     |
	| verification_code | String | Code to verify user  			 |
	| verified  	    | Boolean| Whether the user is verified      | 

	*Note: The user's password is not returned for security reasons*

* Verify User
	
	**URI**: `GET /api/user/{verification_code}` <br>
	**Backend Logic**
	The verification code in the URL is harvested and checked against any unverified users in the database.  If there is a match, the server will return the respective user object.  Otherwise, it will return an error.

* Login
	
	**URI**: `POST /api/user/login` <br>
	Form-Data Required:

	| Key          		| Type   | Additional Information            | 
	| ----------------- | ------ | --------------------------------- |
	| email             | String | 									 |
	| password 			| String | Unhashed password (raw form data) |			 

